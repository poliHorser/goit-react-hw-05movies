"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[87],{148:function(e,n,t){t.d(n,{Bt:function(){return v},DD:function(){return h},Tg:function(){return f},Wn:function(){return m},_n:function(){return l},on:function(){return p}});var r=t(861),a=t(757),c=t.n(a),i=t(294),u="c59d661c06ce192682a3f08ecc590a6a",o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNGFjNzI1MTA4Mjc2ZDkyM2RlMjQzOTE4NzUwNjJjNSIsInN1YiI6IjY1YjUwMjhhNGYzM2FkMDE3YTBiYTM1MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DVikyztACIvDZrPSWL56RBOBtNnjH3jDZKwNSqkZN54"}},s=i.Z.create({baseURL:"https://api.themoviedb.org/3"}),l="https://image.tmdb.org/t/p/w300",f=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("trending/movie/week?api_key=".concat(u),o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("search/movie?api_key=".concat(u,"&query=").concat(n,"&language=en-US&page=1&include_adult=false"),o));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(e){return s.get("/movie/".concat(e,"?api_key=").concat(u,"&language=en-US"),o)},m=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("movie/".concat(n,"/credits?api_key=").concat(u,"&language=en-US"),o));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.get("movie/".concat(n,"/reviews?api_key=").concat(u,"&language=en-US"),o));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},138:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(689),a=t(87),c=t(184),i=function(e){var n=e.items,t=(0,r.TH)();return(0,c.jsx)("div",{children:(0,c.jsx)("ul",{className:"movies-list",children:n.map((function(e){var n=e.id,r=e.title;return(0,c.jsx)("li",{className:"movie-li",children:(0,c.jsx)(a.rU,{className:"movie-link",to:"/movies/".concat(n),state:{from:t},children:r})},n)}))})})}},697:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(433),a=t(861),c=t(439),i=t(757),u=t.n(i),o=t(791),s=t(87),l=t(942),f=t(413),p=t(184),h=function(e){var n=e.onSubmit,t=(0,o.useState)({search:""}),r=(0,c.Z)(t,2),a=r[0],i=r[1],u=(0,o.useRef)(null);(0,o.useEffect)((function(){u.current.focus()}),[]);var s=function(){i({search:""})},h=(0,o.useMemo)((function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;){var r=63&t[e];n+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return n}()}),[]);return(0,p.jsx)("div",{className:"form-div",children:(0,p.jsx)("form",{onSubmit:function(e){e.preventDefault(),n((0,f.Z)({},a)),s()},className:"form",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"form-label",htmlFor:h,children:"Search movie"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{className:"form-input",id:h,ref:u,value:a.search,onChange:function(e){var n=e.target,t=n.name,r=n.value;i((0,f.Z)((0,f.Z)({},a),{},(0,l.Z)({},t,r)))},required:!0,type:"text",name:"search",placeholder:"Enter movie name"}),(0,p.jsx)("button",{type:"submit",className:"form-btn",children:"Search"})]})]})})})},m=t(138),v=t(148),d=function(){var e=(0,o.useState)([]),n=(0,c.Z)(e,2),t=n[0],i=n[1],l=(0,o.useState)(!1),f=(0,c.Z)(l,2),d=f[0],g=f[1],j=(0,o.useState)(null),x=(0,c.Z)(j,2),Z=x[0],k=x[1],w=(0,s.lr)(),y=(0,c.Z)(w,2),N=y[0],b=y[1],S=N.get("search"),I=N.get("page");(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)(u().mark((function e(){var n,a,c,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,(0,v.on)(S,I);case 4:a=e.sent,c=a.data,o=null!==(n=c.results)&&void 0!==n&&n.length?[].concat((0,r.Z)(t),(0,r.Z)(c.results)):t,s=o.sort((function(e,n){return e.title.localeCompare(n.title)})),i(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),k(e.t0.message);case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();!S||"1"!==I&&I||e()}),[S,I,t]);var _=Boolean(t.length);return(0,p.jsxs)("div",{className:"search",children:[(0,p.jsx)(h,{onSubmit:function(e){var n=e.search;b({search:n,page:1}),i([])}}),Z&&(0,p.jsx)("p",{children:Z}),d&&(0,p.jsx)("p",{children:"...Loading page"}),_&&(0,p.jsx)(m.Z,{items:t})]})},g=function(){return(0,p.jsx)("div",{children:(0,p.jsx)(d,{})})}}}]);
//# sourceMappingURL=87.449d54b9.chunk.js.map